<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Living Dex Tracker</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="app-header">
      <div class="app-header__title">
        <h1>Living Dex Tracker</h1>
        <p class="tagline">
          Pick a game, open the right PokÃ©dex, and interactively track every PokÃ©mon you have caught.
        </p>
      </div>
    </header>

    <main class="app-main">
      <section class="controls" aria-label="Dex settings">
        <div class="controls__top">
          <div class="control-group control-group--primary">
            <label class="control" for="game-select">
              <span>Game</span>
              <select id="game-select" name="game-select" aria-label="Select game"></select>
            </label>

            <label class="control" for="dex-select">
              <span>PokÃ©dex</span>
              <select
                id="dex-select"
                name="dex-select"
                aria-label="Select PokÃ©dex"
              ></select>
            </label>

            <label class="control" for="search-input">
              <span>Search PokÃ©mon</span>
              <input
                type="search"
                id="search-input"
                name="search-input"
                placeholder="e.g. Pikachu"
                autocomplete="off"
              />
            </label>
          </div>
          <button
            type="button"
            id="controls-collapse"
            class="controls__collapse-button"
            aria-expanded="true"
            aria-controls="controls-collapsible"
          >
            <span class="controls__collapse-icon" aria-hidden="true">â–¾</span>
            <span class="controls__collapse-text" id="controls-collapse-text">
              Collapse filters
            </span>
          </button>
        </div>

        <div class="controls__collapsible" id="controls-collapsible">
          <label class="control control--full" for="game-notes">
            <span>Notes for this game</span>
            <textarea
              id="game-notes"
              name="game-notes"
              rows="3"
              placeholder="For example: team plans, trades, or exclusives"
            ></textarea>
          </label>

          <div class="control-group">
            <fieldset class="control view-toggle" aria-label="View">
              <legend>View</legend>
              <div class="toggle-buttons" role="group">
                <button
                  type="button"
                  id="view-grid"
                  class="toggle-button is-active"
                  aria-pressed="true"
                >Box grid</button>
                <button
                  type="button"
                  id="view-compact"
                  class="toggle-button"
                  aria-pressed="false"
                >
                  Compact grid
                </button>
                <button
                  type="button"
                  id="view-list"
                  class="toggle-button"
                  aria-pressed="false"
                >List</button>
              </div>
            </fieldset>

            <label class="control" for="sort-select">
              <span>Sort</span>
              <select id="sort-select" name="sort-select">
                <option value="dex">PokÃ©dex order</option>
                <option value="national">National number</option>
                <option value="name">Name Aâ€“Z</option>
              </select>
            </label>

            <label class="control" for="caught-filter">
              <span>Status</span>
              <select id="caught-filter" name="caught-filter">
                <option value="all">All</option>
                <option value="caught">Caught</option>
                <option value="uncaught">Uncaught</option>
              </select>
            </label>

            <label class="control" for="box-input">
              <span>Box</span>
              <div class="box-picker" role="group" aria-label="Box selection">
                <button type="button" id="previous-box" class="box-button" aria-label="Previous box">
                  â—€
                </button>
                <span id="box-indicator" aria-live="polite">Box 1 / 1</span>
                <input
                  type="number"
                  id="box-input"
                  class="box-input"
                  min="1"
                  value="1"
                  aria-label="Jump to specific box"
                />
                <button type="button" id="next-box" class="box-button" aria-label="Next box">
                  â–¶
                </button>
              </div>
            </label>

            <label class="control" for="special-filter" id="special-filter-control" hidden>
              <span>Special forms</span>
              <select id="special-filter" name="special-filter">
                <option value="all">All</option>
                <option value="mega">Mega available</option>
                <option value="gmax">G-Max available</option>
              </select>
            </label>
          </div>

          <div class="control-group control-group--actions" role="group" aria-label="PokÃ©dex actions">
            <button type="button" id="select-all" class="action-button">
              Select all
            </button>
            <button type="button" id="clear-all" class="action-button">
              Clear all
            </button>
            <button type="button" id="export-data" class="action-button">
              Export data
            </button>
            <button type="button" id="import-data" class="action-button">
              Import data
            </button>
            <button
              type="button"
              id="toggle-theme"
              class="action-button action-button--theme"
              aria-pressed="false"
            >
              ðŸŒ™ Dark mode
            </button>
            <div class="action-button-group" id="sprite-mode-actions" hidden>
              <button type="button" id="show-default-sprites" class="action-button">
                Default sprites
              </button>
              <button type="button" id="show-shiny-sprites" class="action-button">
                Show shiny sprites
              </button>
              <button type="button" id="show-mega-sprites" class="action-button">
                Show Mega sprites
              </button>
              <button type="button" id="show-gmax-sprites" class="action-button">
                Show G-Max sprites
              </button>
              <button type="button" id="show-nostalgia-sprites" class="action-button">
                Show retro sprites
              </button>
            </div>
            <div class="gender-toggle" id="gender-sprite-toggle" hidden>
              <span class="gender-toggle__label">Gender sprite</span>
              <div class="toggle-buttons" role="group" aria-label="Select gender sprite">
                <button
                  type="button"
                  id="show-gender-male"
                  class="toggle-button is-active"
                  aria-pressed="true"
                >
                  â™‚
                  <span class="sr-only">Show male sprite</span>
                </button>
                <button
                  type="button"
                  id="show-gender-female"
                  class="toggle-button"
                  aria-pressed="false"
                >
                  â™€
                  <span class="sr-only">Show female sprite</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="dex" aria-label="PokÃ©mon overview">
        <div id="dex-progress" class="dex-progress" hidden>
          <div id="dex-progress-text" class="dex-progress__text">0 / 0 caught</div>
          <progress
            id="dex-progress-bar"
            class="dex-progress__bar"
            value="0"
            max="0"
            aria-label="PokÃ©dex progress"
          >
            0%
          </progress>
        </div>
        <div class="dex-views">
          <div id="dex-grid" class="dex-grid" role="grid"></div>
          <div id="dex-list" class="dex-list" hidden>
            <div class="dex-list__header" role="row">
              <span class="dex-list__cell dex-list__cell--number">#</span>
              <span class="dex-list__cell dex-list__cell--name">Name</span>
              <span class="dex-list__cell dex-list__cell--types">Types</span>
              <span class="dex-list__cell dex-list__cell--status">Status</span>
            </div>
            <div id="dex-list-body" class="dex-list__body" role="rowgroup"></div>
          </div>
        </div>
      </section>
    </main>

    <template id="pokemon-card-template">
      <article
        class="pokemon-card"
        data-caught="false"
        role="button"
        aria-pressed="false"
        tabindex="0"
      >
        <div class="pokemon-card__media" aria-hidden="true">
          <img class="pokemon-sprite" alt="" loading="lazy" />
          <span class="caught-indicator" aria-hidden="true">âœ”</span>
          <div class="pokemon-card__overlay">
            <div class="pokemon-card__top">
              <span class="pokemon-number"></span>
              <div class="pokemon-flag-bar">
                <div class="pokemon-flags" data-flag-container hidden></div>
              </div>
              <div class="pokemon-special"></div>
              <div class="pokemon-version-badges" data-version-badges hidden></div>
            </div>
            <span class="pokemon-name" role="button" tabindex="0"></span>
            <div class="pokemon-types"></div>
          </div>
          <div class="pokemon-special"></div>
          <div class="pokemon-version-badges" data-version-badges hidden></div>
        </div>
      </article>
    </template>

    <template id="pokemon-list-row-template">
      <div class="dex-list__row" role="row" data-caught="false">
        <span class="dex-list__cell dex-list__cell--number"></span>
        <span class="dex-list__cell dex-list__cell--name">
          <button type="button" class="dex-list__name-button"></button>
          <div class="pokemon-special"></div>
          <div class="pokemon-version-badges" data-version-badges hidden></div>
        </span>
        <span class="dex-list__cell dex-list__cell--types"></span>
        <span class="dex-list__cell dex-list__cell--status">
          <button type="button" class="status-toggle">Toggle</button>
        </span>
      </div>
    </template>

    <dialog id="empty-results" class="empty-results">
      <p>No PokÃ©mon found. Adjust your filters.</p>
      <button type="button" id="close-empty-results">Close</button>
    </dialog>

    <dialog id="pokemon-details" class="pokemon-details" aria-modal="true">
      <div class="pokemon-details__container">
        <button
          type="button"
          id="close-pokemon-details"
          class="pokemon-details__close"
          aria-label="Close PokÃ©mon details"
        >
          âœ•
        </button>
        <header class="pokemon-details__header">
          <img
            id="pokemon-detail-sprite"
            class="pokemon-details__sprite"
            alt=""
            loading="lazy"
          />
          <div class="pokemon-details__summary">
            <p id="pokemon-detail-number" class="pokemon-details__number"></p>
            <h2 id="pokemon-detail-name" class="pokemon-details__name"></h2>
            <div id="pokemon-detail-types" class="pokemon-details__types"></div>
            <div id="pokemon-detail-versions" class="pokemon-details__versions" hidden>
              <span class="pokemon-details__versions-label">Exclusive to:</span>
              <div class="pokemon-version-badges" data-version-badges></div>
            </div>
            <dl class="pokemon-details__meta">
              <div>
                <dt>Height</dt>
                <dd id="pokemon-detail-height">-</dd>
              </div>
              <div>
                <dt>Weight</dt>
                <dd id="pokemon-detail-weight">-</dd>
              </div>
            </dl>
            <div id="pokemon-detail-links" class="pokemon-details__links" hidden></div>
          </div>
        </header>
        <section class="pokemon-details__section">
          <h3>Evolution</h3>
          <div id="pokemon-detail-evolution" class="pokemon-details__evolution"></div>
        </section>
        <section class="pokemon-details__section">
          <h3>Variants</h3>
          <div id="pokemon-detail-variants" class="pokemon-details__variants"></div>
        </section>
        <section class="pokemon-details__section">
          <h3>Varianten</h3>
          <div id="pokemon-detail-variants" class="pokemon-details__variants"></div>
        </section>
      </div>
    </dialog>

    <footer class="app-footer">
      <p>
        Your progress is stored locally in your browser. PokÃ©dex data is pulled automatically via PokÃ©API.
      </p>
    </footer>

    <input type="file" id="import-data-input" accept="application/json" hidden />

    <script src="data/pokemon-data.js"></script>
    <script src="script.js" type="module"></script>
  </body>
</html>
